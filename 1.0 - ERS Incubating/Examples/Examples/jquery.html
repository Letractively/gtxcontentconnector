<html>
<head>
<script src="jquery-1.2.1.js" type="text/javascript"></script>

</head>
<body>
<script type="text/javascript">
$(function() {
	$('#update-target a').click(function() {
	  	$.ajax({
		    url: '/ContentRepository/ccr',
		    type: 'GET',
		    dataType: 'xml',
		    //data: "contentid=1001.6&attributes=firstname,surname", // load single object
		    data: "filter=object.obj_type==10007&attributes=contentid&attributes=name&attributes=filename&sorting=contentid:asc&count=30", // load list of objects
			success: function(xml){
				$(xml).find('Object').each(function(){
					// load attributes
		        	var contentid = $(this).attr('contentid');
		        	// load child nodes
		        	
		            var name = $(this).find('name').text();
		           	            
		            var filename = $(this).find('filename').text();
		            $('<li></li>')
		            .html('(' + contentid + ') '+name + ' | ' + filename )
		            .appendTo('#update-target ol');
		        }); //close each
		        $('<br/>').appendTo('#update-target ol');
		     } // close success
        }); //close $.ajax(
        
    }); //close click(
}); //close $(
</script>
<div id='update-target'><a href="#">Click here to load data</a>
<ol></ol>
</div>
</body>
</html>
